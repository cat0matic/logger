<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SMTP Appender | @tsed/logger - A Node.js and TypeScript multi channel logger</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link canonical="https://logger.tsed.io">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="apple-touch-icon">
    <link rel="icon" href="/apple-touch-icon.png" type="image/x-icon" sizes="180x180">
    <link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="description" content="A Node.js and TypeScript multi channel logger">
    <meta property="og:url" content="https://logger.tsed.io">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="@tsed/logger - A Node.js and TypeScript multi channel logger">
    <meta property="og:title" content="@tsed/logger - A Node.js and TypeScript multi channel logger">
    <meta property="og:description" content="A Node.js and TypeScript multi channel logger">
    <meta property="og:image" content="https://tsed.io/tsed-og.png">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="1024">
    <meta name="twitter:title" content="@tsed/logger - A Node.js and TypeScript multi channel logger">
    <meta name="twitter:description" content="A Node.js and TypeScript multi channel logger">
    <meta name="twitter:card" content="summary">
    
    <link rel="preload" href="/assets/css/0.styles.1fe164b5.css" as="style"><link rel="preload" href="/assets/js/app.fdb5dd88.js" as="script"><link rel="preload" href="/assets/js/4.ca8ed4cc.js" as="script"><link rel="preload" href="/assets/js/84.3a56419a.js" as="script"><link rel="prefetch" href="/assets/js/10.75a31d2e.js"><link rel="prefetch" href="/assets/js/11.427373b7.js"><link rel="prefetch" href="/assets/js/12.02ae6ad9.js"><link rel="prefetch" href="/assets/js/13.4e35c80d.js"><link rel="prefetch" href="/assets/js/14.81c0b37d.js"><link rel="prefetch" href="/assets/js/15.92e7d3cb.js"><link rel="prefetch" href="/assets/js/16.4415e679.js"><link rel="prefetch" href="/assets/js/17.5dbdc935.js"><link rel="prefetch" href="/assets/js/18.b4cf2d68.js"><link rel="prefetch" href="/assets/js/19.3ca52ecb.js"><link rel="prefetch" href="/assets/js/20.4a116e0d.js"><link rel="prefetch" href="/assets/js/21.3ad9c5c0.js"><link rel="prefetch" href="/assets/js/22.49d72c84.js"><link rel="prefetch" href="/assets/js/23.3b4b1584.js"><link rel="prefetch" href="/assets/js/24.1208a186.js"><link rel="prefetch" href="/assets/js/25.a4b5f4fa.js"><link rel="prefetch" href="/assets/js/26.4d5bef7f.js"><link rel="prefetch" href="/assets/js/27.0f67a465.js"><link rel="prefetch" href="/assets/js/28.6cf86c34.js"><link rel="prefetch" href="/assets/js/29.0521b5ac.js"><link rel="prefetch" href="/assets/js/3.fc541e75.js"><link rel="prefetch" href="/assets/js/30.26b2792b.js"><link rel="prefetch" href="/assets/js/31.43186bb9.js"><link rel="prefetch" href="/assets/js/32.46e8e6bf.js"><link rel="prefetch" href="/assets/js/33.3bc7148d.js"><link rel="prefetch" href="/assets/js/34.02d1160b.js"><link rel="prefetch" href="/assets/js/35.af409a4b.js"><link rel="prefetch" href="/assets/js/36.7be1860b.js"><link rel="prefetch" href="/assets/js/37.cc913d1d.js"><link rel="prefetch" href="/assets/js/38.7baa9ea5.js"><link rel="prefetch" href="/assets/js/39.fdcf3f3c.js"><link rel="prefetch" href="/assets/js/40.b3d989e8.js"><link rel="prefetch" href="/assets/js/41.9ac837a2.js"><link rel="prefetch" href="/assets/js/42.2c147df1.js"><link rel="prefetch" href="/assets/js/43.e15717b1.js"><link rel="prefetch" href="/assets/js/44.c41cfdfd.js"><link rel="prefetch" href="/assets/js/45.629796d5.js"><link rel="prefetch" href="/assets/js/46.52ea19b5.js"><link rel="prefetch" href="/assets/js/47.4ccced38.js"><link rel="prefetch" href="/assets/js/48.1ee4b0b6.js"><link rel="prefetch" href="/assets/js/49.c45e7e78.js"><link rel="prefetch" href="/assets/js/5.12371158.js"><link rel="prefetch" href="/assets/js/50.8f0673b7.js"><link rel="prefetch" href="/assets/js/51.3baa7809.js"><link rel="prefetch" href="/assets/js/52.c555a563.js"><link rel="prefetch" href="/assets/js/53.998b6e86.js"><link rel="prefetch" href="/assets/js/54.03059268.js"><link rel="prefetch" href="/assets/js/55.28657737.js"><link rel="prefetch" href="/assets/js/56.713c5974.js"><link rel="prefetch" href="/assets/js/57.bf2d5825.js"><link rel="prefetch" href="/assets/js/58.01724dcb.js"><link rel="prefetch" href="/assets/js/59.2f647947.js"><link rel="prefetch" href="/assets/js/6.c009c76e.js"><link rel="prefetch" href="/assets/js/60.84719ec3.js"><link rel="prefetch" href="/assets/js/61.bf6108ae.js"><link rel="prefetch" href="/assets/js/62.40e1f1cc.js"><link rel="prefetch" href="/assets/js/63.19f669d8.js"><link rel="prefetch" href="/assets/js/64.1ae60a3e.js"><link rel="prefetch" href="/assets/js/65.70e7b1b6.js"><link rel="prefetch" href="/assets/js/66.f153ed6a.js"><link rel="prefetch" href="/assets/js/67.0d5ace91.js"><link rel="prefetch" href="/assets/js/68.8b2d7ea9.js"><link rel="prefetch" href="/assets/js/69.a00ffb56.js"><link rel="prefetch" href="/assets/js/7.e96c1d13.js"><link rel="prefetch" href="/assets/js/70.3ddd458e.js"><link rel="prefetch" href="/assets/js/71.f58397d5.js"><link rel="prefetch" href="/assets/js/72.10183f0c.js"><link rel="prefetch" href="/assets/js/73.c160912e.js"><link rel="prefetch" href="/assets/js/74.322c9505.js"><link rel="prefetch" href="/assets/js/75.373ff261.js"><link rel="prefetch" href="/assets/js/76.c0fbdd25.js"><link rel="prefetch" href="/assets/js/77.961c1197.js"><link rel="prefetch" href="/assets/js/78.777d0a7f.js"><link rel="prefetch" href="/assets/js/79.cda2ff4a.js"><link rel="prefetch" href="/assets/js/8.dc6899f7.js"><link rel="prefetch" href="/assets/js/80.9f669a6d.js"><link rel="prefetch" href="/assets/js/81.3acb72f2.js"><link rel="prefetch" href="/assets/js/82.d42e4888.js"><link rel="prefetch" href="/assets/js/83.5c0fcd0b.js"><link rel="prefetch" href="/assets/js/85.22297e24.js"><link rel="prefetch" href="/assets/js/86.fd35663b.js"><link rel="prefetch" href="/assets/js/87.8654958a.js"><link rel="prefetch" href="/assets/js/88.6a1cf628.js"><link rel="prefetch" href="/assets/js/89.eee8576d.js"><link rel="prefetch" href="/assets/js/9.2fd6d8e7.js"><link rel="prefetch" href="/assets/js/90.714dd069.js"><link rel="prefetch" href="/assets/js/91.e8a0d924.js"><link rel="prefetch" href="/assets/js/92.96c7a6c0.js"><link rel="prefetch" href="/assets/js/93.e35b6fcb.js"><link rel="prefetch" href="/assets/js/94.1dbc035b.js"><link rel="prefetch" href="/assets/js/95.68effba1.js"><link rel="prefetch" href="/assets/js/96.7edb0de6.js"><link rel="prefetch" href="/assets/js/97.4eafe47a.js"><link rel="prefetch" href="/assets/js/98.0b4880b5.js"><link rel="prefetch" href="/assets/js/99.b7fae16a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.b0116d77.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1fe164b5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container init with-sidebar"><header class="navbar px-5 flex items-center navbar-box-shadow fixed top-0 fixed top-0 inset-x-0 h-16 bg-white"><div class="flex h-full items-center justify-center md:hidden"><div class="flex cursor-pointer text-xl mr-4"><i class="bx bx-menu"></i></div></div> <div class="m-0 p-0 text-xl text-normal mr-8"><a href="/" class="router-link-active"><!----> <span><span class='text-blue'>Ts</span>.Logger</span></a></div> <div class="flex-1 h-full"><nav class="font-bold hidden lg:flex h-full"><ul class="flex items-center h-full text-gray-dark"><li class="mx-1 content-wrapper py-4"><a href="/getting-started.html" class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Getting started
      </a></li><li class="mx-1 content-wrapper py-4"><a href="/appenders/index.html" class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Appenders
      </a></li><li class="mx-1 content-wrapper py-4"><a href="/layouts/index.html" class="link internal px-3 p-1 hover:bg-blue hover:text-white transition-all rounded-small cursor-pointer"><!----> 
        Layouts
      </a></li><li class="mx-1 content-wrapper"><div class="dropdown-wrapper relative flex items-center h-full px-3 py-4 -hover"><div class="flex items-center h-full w-full"><a title="More" class="flex items-center hover:text-gray-darker cursor-pointer transition-all duration-500 ease-in-out"><span></span> <i class="bx bx-dots-horizontal-rounded text-lg"></i></a></div> <div class="nav-dropdown absolute text-gray-darker z-2"> <ul class="reset-list text-gray-darker"><li><h4 class="p-0 px-4 m-1 mb-2 text-md">Plugins</h4> <ul class="dropdown-subitem-wrapper text-sm"><li class="dropdown-subitem"><a href="/appenders/insight.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Insight
          </a></li><li class="dropdown-subitem"><a href="/appenders/logentries.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            LogEntries
          </a></li><li class="dropdown-subitem"><a href="/appenders/logstash-http.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            LogStash HTTP
          </a></li><li class="dropdown-subitem"><a href="/appenders/logstash-udp.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            LogStash UDP
          </a></li><li class="dropdown-subitem"><a href="/appenders/loggly.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Loggly
          </a></li><li class="dropdown-subitem"><a href="/appenders/rabbitmq.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            RabbitMQ
          </a></li><li class="dropdown-subitem"><a href="/appenders/seq.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Seq
          </a></li><li class="dropdown-subitem"><a href="/appenders/slack.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Slack
          </a></li><li class="dropdown-subitem"><a href="/appenders/smtp.html" aria-current="page" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out router-link-exact-active router-link-active"><!----> 
            Smtp
          </a></li></ul></li><li class="mt-3"><h4 class="p-0 px-4 m-1 mb-2 text-md">Extra</h4> <ul class="dropdown-subitem-wrapper text-sm"><li class="dropdown-subitem"><a href="http://tsed.io" target="_blank" rel="noopener noreferrer" class="link external block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out">
            Ts.ED
           <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://cli.tsed.io" target="_blank" rel="noopener noreferrer" class="link external block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out">
            Ts.ED CLI
           <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/api.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Api reference
          </a></li><li class="dropdown-subitem"><a href="/tutorials/contributing.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            Contributes
          </a></li><li class="dropdown-subitem"><a href="/tutorials/licence.html" class="link internal block opacity-50 hover:opacity-100 p-0 px-6 mb-2 cursor-pointer transition-all duration-500 ease-in-out"><!----> 
            License
          </a></li></ul></li></ul></div></div></li></ul></nav></div> <div class="flex h-full"><!----></div> <div class="flex items-center h-full"><a title="Github" href="https://github.com/tsedio/logger" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-github"></i></a><a title="Gitter" href="https://gitter.im/Tsed-io/community" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bx-message-rounded-dots"></i></a><a title="StackOverflow" href="https://stackoverflow.com/search?q=tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxl-stack-overflow"></i></a><a title="Sponsor" href="https://opencollective.com/tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center lg:text-lg py-4"><i class="bx bxs-heart"></i></a></div> <div class="flex items-center h-full"><div class="search-box sm:ml-1 dropdown-wrapper relative flex flex-col sm:flex-row sm:items-center py-4 -click"><label class="sm:flex items-center sm:h-full w-full sm:px-0"><div aria-label="Search" autocomplete="off" spellcheck="false" class="inline-flex items-center border-2 py-1 px-3 rounded-small text-gray-darker transition-all w-full rounded-medium sm:rounded-small bg-gray-lighter border-gray-lighter focus-within:text-blue focus-within:border-blue"><i class="mr-1 -ml-1 bx bx-search"></i> <div class="flex flex-1 px-1 relative items-center"><input value="" aria-label="Search" autocomplete="off" spellcheck="false" class="reset-input text-current w-full"></div> </div></label> <div class="flex-1 search-dropdown text-gray-darker z-2"><ul class="reset-list text-gray-darker"></ul></div></div></div></header> <div class="sidebar-mask"></div> <main class="main-content relative z-2 pt-16"><div><div><div class="relative"><div class="page-header"><div class="bg-gray-lighter z-5 relative"><div class="page-header-container px-5 md:px-10 max-w-site m-auto flex items-center"><div class="flex-1"><div class="transition-all text-xl font-bold md:font-normal md:text-4xl">
          SMTP Appender
        </div></div> <ul class="flex items-center justify-center text-md -ml-2"><li title="Share"><!----></li> <!----> <li title="View Code Github" class="p-2"><a target="_blank" href="https://github.com/tsedio/logger/blob/production/docs/appenders/smtp.md" class="hover:text-blue-active"><i class="bx bx-code-alt"></i></a></li> <li title="Edit Page" class="p-2"><a target="_blank" href="https://github.com/tsedio/logger/edit/production/docs/appenders/smtp.md" class="hover:text-blue-active"><i class="bx bx-edit"></i></a></li> <li title="Report a Bug" class="p-2 last:pr-0"><a target="_blank" href="https://github.com/tsedio/logger/issues/new?title=%5BBUG%5D%20Page%20SMTP%20Appender%20-%20%2Fappenders%2Fsmtp" class="hover:text-blue-active"><i class="bx bx-bug"></i></a></li></ul></div></div></div></div> <div class="px-5 md:px-10 max-w-site m-auto"><div class="page-content"><article> <div class="content__default"><h1 id="smtp-appender"><a href="#smtp-appender" class="header-anchor">#</a> SMTP Appender</h1> <p>Sends log events as emails. If you use this appender, you should also call <code>logger.shutdown</code> when your application closes so that any remaining emails can be sent. Many of the configuration options below are passed through to nodemailer, so you should read their docs to get the most out of this appender.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @tsed/logger
<span class="token function">npm</span> <span class="token function">install</span> @tsed/logger-smtp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <ul><li><code>type</code> - <code>smtp</code></li> <li><code>SMTP</code> - <code>object</code> (optional, if not present will use <code>transport</code> field)
<ul><li><code>host</code> - <code>string</code> (optional, defaults to <code>localhost</code>)</li> <li><code>port</code> - <code>integer</code> (optional, defaults to <code>25</code>)</li> <li><code>auth</code> - <code>object</code> (optional) - authentication details
<ul><li><code>user</code> - <code>string</code></li> <li><code>pass</code> - <code>string</code></li></ul></li></ul></li> <li><code>transport</code> - <code>object</code> (optional, if not present will use <code>SMTP</code>) - see <a href="https://nodemailer.com/smtp/" target="_blank" rel="noopener noreferrer"><code>nodemailer</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> docs for transport options
<ul><li><code>plugin</code> - <code>string</code> (optional, defaults to <code>smtp</code>) - the nodemailer transport plugin to use</li> <li><code>options</code> - <code>object</code> - configuration for the transport plugin</li></ul></li> <li><code>attachment</code> - <code>object</code> (optional) - send logs as email attachment
<ul><li><code>enable</code> - <code>boolean</code> (optional, defaults to <code>false</code>)</li> <li><code>message</code> - <code>string</code> (optional, defaults to <code>See logs as attachment</code>) - message to put in body of email</li> <li><code>filename</code> - <code>string</code> (optional, defaults to <code>default.log</code>) - attachment filename</li></ul></li> <li><code>sendInterval</code> - <code>integer</code> (optional, defaults to <code>0</code>) - batch emails and send in one email every <code>sendInterval</code> seconds, if <code>0</code> then every log message will send an email.</li> <li><code>shutdownTimeout</code> - <code>integer</code> (optional, defaults to <code>5</code>) - time in seconds to wait for emails to be sent during shutdown</li> <li><code>recipients</code> - <code>string</code> - email addresses to send the logs to</li> <li><code>subject</code> - <code>string</code> (optional, defaults to message from first log event in batch) - subject for email</li> <li><code>sender</code> - <code>string</code> (optional) - who the logs should be sent as</li> <li><code>html</code> - <code>boolean</code> (optional, defaults to <code>false</code>) - send the email as HTML instead of plain text</li> <li><code>layout</code> - <code>object</code> (optional, defaults to basicLayout) - see <a href="https://logger.tsed.io/layouts.html" target="_blank" rel="noopener noreferrer">layouts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>cc</code> - <code>string</code> (optional) - email addresses to send the carbon-copy logs to</li> <li><code>bcc</code> - <code>string</code> (optional) - email addresses to send the blind-carbon-copy logs to</li></ul> <h2 id="example-default-config"><a href="#example-default-config" class="header-anchor">#</a> Example (default config)</h2> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>This configuration will send an email using the smtp server running on <code>localhost:25</code>, for every log event of level <code>ERROR</code> and above.
The email will be sent to <code>dev.team@company.name</code>, the subject will be the message part of the log event, the body of the email will be log event formatted by the basic layout function.</p> <h2 id="example-logs-as-attachments-batched"><a href="#example-logs-as-attachments-batched" class="header-anchor">#</a> Example (logs as attachments, batched)</h2> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span><span class="token punctuation">,</span>
  subject<span class="token operator">:</span> <span class="token string">&quot;Latest logs&quot;</span><span class="token punctuation">,</span>
  sender<span class="token operator">:</span> <span class="token string">&quot;my.application@company.name&quot;</span><span class="token punctuation">,</span>
  attachment<span class="token operator">:</span> <span class="token punctuation">{</span>
    enable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;latest.log&quot;</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">&quot;See the attachment for the latest logs&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  sendInterval<span class="token operator">:</span> <span class="token number">3600</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>This configuration will send an email once every hour, with all the log events of level <code>ERROR</code> and above as an attached file.</p> <h2 id="example-custom-smtp-host"><a href="#example-custom-smtp-host" class="header-anchor">#</a> Example (custom SMTP host)</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span><span class="token punctuation">,</span>
  <span class="token constant">SMTP</span><span class="token operator">:</span> <span class="token punctuation">{</span> host<span class="token operator">:</span> <span class="token string">'smtp.company.name'</span><span class="token punctuation">,</span> port<span class="token operator">:</span> <span class="token number">8025</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This configuration can also be written as:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span><span class="token punctuation">,</span>
  transport<span class="token operator">:</span> <span class="token punctuation">{</span>
    plugin<span class="token operator">:</span> <span class="token string">'smtp'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      host<span class="token operator">:</span> <span class="token string">'smtp.company.name'</span><span class="token punctuation">,</span>
      port<span class="token operator">:</span> <span class="token number">8025</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>A similar config can be used to specify a different transport plugin than <code>smtp</code>. See the <a href="https://nodemailer.com/smtp/" target="_blank" rel="noopener noreferrer"><code>nodemailer</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> docs for more details.</p></div> </article> <div class="pt-5"><div class="py-5 flex justify-end text-sm"><p><span class="font-bold pr-1">Last Updated:</span> <span class="time">5/13/2021, 7:26:56 AM</span></p></div> <div class="page-nav pt-5 mb-10"><div class="flex align-center justify-between overflow-hidden"><span class="flex align-center justify-center"><a href="/appenders/slack.html" class="p-2 pr-3 transition duration-500 ease-in-out hover:bg-white-active rounded-small hover:text-white text-md font-medium flex items-center justify-between"><i class="bx bx-chevron-left"></i> <span>
            Slack
          </span></a></span> <span class="flex align-center justify-center"><a href="/appenders/custom.html" class="p-2 pl-3 transition duration-500 ease-in-out hover:bg-white-active rounded-small hover:text-white text-md font-medium flex items-center justify-between"><span>
            Custom appender
          </span> <i class="bx bx-chevron-right"></i></a></span></div></div></div> <section slot="page-bottom" class="other-topics px-3"><h4 class="text-xl mb-4 mt-2 font-semibold">
            Other topics
          </h4> <ul class="flex justify-start flex-wrap -mx-1"><li class="p-1"><a href="/appenders/console.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Console Appender
      </a></li><li class="p-1"><a href="/appenders/file.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">File Appender
      </a></li><li class="p-1"><a href="/appenders/file-date.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Date Rolling File Appender
      </a></li><li class="p-1"><a href="/appenders/stdout.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Standard Out Appender
      </a></li><li class="p-1"><a href="/appenders/stderr.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Standard Error Appender
      </a></li><li class="p-1"><a href="/appenders/insight.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Insight Appender
      </a></li><li class="p-1"><a href="/appenders/logentries.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">LogEntries Appender
      </a></li><li class="p-1"><a href="/appenders/logstash-http.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">LogStash HTTP Appender
      </a></li><li class="p-1"><a href="/appenders/logstash-udp.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">LogStash UDP Appender
      </a></li><li class="p-1"><a href="/appenders/loggly.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Loggly Appender
      </a></li><li class="p-1"><a href="/appenders/rabbitmq.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">RabbitMQ Appender
      </a></li><li class="p-1"><a href="/appenders/seq.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Seq Appender
      </a></li><li class="p-1"><a href="/appenders/slack.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Slack Appender
      </a></li><li class="p-1"><a href="/appenders/smtp.html" aria-current="page" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white router-link-exact-active router-link-active">SMTP Appender
      </a></li><li class="p-1"><a href="/layouts/basic.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Basic layout
      </a></li><li class="p-1"><a href="/layouts/colored.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Colored layout
      </a></li><li class="p-1"><a href="/layouts/dummy.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Dummy layout
      </a></li><li class="p-1"><a href="/layouts/message-pass-through.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Message Pass-Through layout
      </a></li><li class="p-1"><a href="/layouts/json.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Json layout
      </a></li><li class="p-1"><a href="/layouts/pattern.html" class="text-xs no-underline py-1 px-2 bg-gray-lighter rounded-small hover:bg-blue hover:text-white">Pattern layout
      </a></li></ul> </section></div></div> <aside class="page-sidebar fixed"> <ul class="page-sidebar-sub-headers"><li class="page-sidebar-sub-header"><a href="/appenders/smtp.html#configuration" class="page-sidebar-link ">Configuration</a></li><li class="page-sidebar-sub-header"><a href="/appenders/smtp.html#example-default-config" class="page-sidebar-link ">Example (default config)</a></li><li class="page-sidebar-sub-header"><a href="/appenders/smtp.html#example-logs-as-attachments-batched" class="page-sidebar-link ">Example (logs as attachments, batched)</a></li><li class="page-sidebar-sub-header"><a href="/appenders/smtp.html#example-custom-smtp-host" class="page-sidebar-link ">Example (custom SMTP host)</a></li></ul> </aside></div></div></main> <aside class="sidebar -translate-x-100 md:shadow-sidebar md:translate-x-0"> <ul class="reset-list py-5"><li><div class="mb-2"><a href="/getting-started.html" class="sidebar-link relative block py-2 font-bold text-gray-darker text-md px-5">Getting started</a></div></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1 open"><span class="flex-1">Appenders</span> <i class="bx bx-chevron-down text-xl transition-all"></i></p> <ul><li><a href="/appenders/" aria-current="page" class="sidebar-link relative block py-2 pl-7">Configuration</a></li><li><a href="/appenders/console.html" class="sidebar-link relative block py-2 pl-7">Console</a></li><li><a href="/appenders/file.html" class="sidebar-link relative block py-2 pl-7">File</a></li><li><a href="/appenders/file-date.html" class="sidebar-link relative block py-2 pl-7">File date</a></li><li><a href="/appenders/stdout.html" class="sidebar-link relative block py-2 pl-7">Stdout</a></li><li><a href="/appenders/stderr.html" class="sidebar-link relative block py-2 pl-7">StdErr</a></li><li><a href="/appenders/insight.html" class="sidebar-link relative block py-2 pl-7">Insight</a></li><li><a href="/appenders/logentries.html" class="sidebar-link relative block py-2 pl-7">LogEntries</a></li><li><a href="/appenders/logstash-http.html" class="sidebar-link relative block py-2 pl-7">LogStash HTTP</a></li><li><a href="/appenders/logstash-udp.html" class="sidebar-link relative block py-2 pl-7">LogStash UDP</a></li><li><a href="/appenders/loggly.html" class="sidebar-link relative block py-2 pl-7">Loggly</a></li><li><a href="/appenders/rabbitmq.html" class="sidebar-link relative block py-2 pl-7">RabbitMQ</a></li><li><a href="/appenders/seq.html" class="sidebar-link relative block py-2 pl-7">Seq</a></li><li><a href="/appenders/slack.html" class="sidebar-link relative block py-2 pl-7">Slack</a></li><li><a href="/appenders/smtp.html" aria-current="page" class="active sidebar-link relative block py-2 pl-7">Smtp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/appenders/smtp.html#configuration" class="sidebar-link relative block py-2 ">Configuration</a></li><li class="sidebar-sub-header"><a href="/appenders/smtp.html#example-default-config" class="sidebar-link relative block py-2 ">Example (default config)</a></li><li class="sidebar-sub-header"><a href="/appenders/smtp.html#example-logs-as-attachments-batched" class="sidebar-link relative block py-2 ">Example (logs as attachments, batched)</a></li><li class="sidebar-sub-header"><a href="/appenders/smtp.html#example-custom-smtp-host" class="sidebar-link relative block py-2 ">Example (custom SMTP host)</a></li></ul></li><li><a href="/appenders/custom.html" class="sidebar-link relative block py-2 pl-7">Custom appender</a></li></ul></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Layouts</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li><li><section class="sidebar-group mb-2 collapsable depth-0"><p class="cursor-pointer font-bold text-gray-darker flex items-center justify-center text-md pl-5 pr-2 py-1"><span class="flex-1">Extras</span> <i class="bx bx-chevron-down text-xl transition-all -rotate-90"></i></p> <!----></section></li></ul> </aside> <footer><div class="px-5 md:px-10 max-w-site m-auto"><div class="page-content py-5"><div class="flex items-center"><div class="flex-1"><h4 class="text-xl mb-4 mt-2 px-2 font-semibold">Support us</h4> <div class="content__default"><p>
            Ts.Logger is an MIT-licensed open source project. It can grow thanks to the support by the
            community. If
            you'd like to join them, please read more <a href="/support.html">here</a>.
          </p> <div class="flex items-center justify-center pt-5 mt-5 mb-5"><div class="inline-flex flex-col items-stretch overflow-hidden text-base transition-colors
  bg-white-button border-blue text-blue focus:bg-white-button-active focus:border-blue-active
  hover:bg-white-button-active hover:border-blue-active focus:text-blue-active hover:text-blue-active
   cursor-pointer border-1 border-solid rounded-medium shadow-none"><a href="https://opencollective.com/tsed" title="" target="_blank" rel="noopener noreferrer" class="link external reset-link flex justify-center items-center w-full font-bold px-4 py-1"><span class="m-1 text-center flex justify-center items-center">
              Become sponsor
            </span> <!----></a></div></div></div></div></div></div></div>  <div class="px-5 md:px-10  m-auto bg-code-active relative"><div class="pt-5 pb-8 text-center text-white"><div class="flex items-center"><div class="flex-1 flex items-center justify-center"><a title="Github" href="https://github.com/tsedio/logger" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-github"></i></a><a title="Gitter" href="https://gitter.im/Tsed-io/community" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bx-message-rounded-dots"></i></a><a title="StackOverflow" href="https://stackoverflow.com/search?q=tsed" target="_blank" rel="noopener noreferrer" class="p-1 hover:text-blue-active transition-all duration-500 ease-in-out flex align-center justify-center text-xl py-4 mx-2"><i class="bx bxl-stack-overflow"></i></a></div> <div class="absolute top-0 right-0 pt-5 pr-8 sm:p-10"><div class="relative inline-flex w-auto"><!----> <span class="text-xs py-1 px-2 absolute right-0 rounded-medium rounded-bl-small bg-white text-blue" style="top:-12px;right:-28px;">0</span></div></div></div> <div class="text-sm">
        Copyright Â© 2016-2021 <a href="/license.html" class="text-blue font-bold hover:text-blue-active">MIT License</a> <span class="inline-block text-gray-light px-1">|</span> By
        Lenzotti Romain
      </div></div></div> </footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fdb5dd88.js" defer></script><script src="/assets/js/4.ca8ed4cc.js" defer></script><script src="/assets/js/84.3a56419a.js" defer></script>
  </body>
</html>
